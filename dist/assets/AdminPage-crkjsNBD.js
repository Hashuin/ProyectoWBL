import{j as e,u as Ee,d as U}from"./index-DHx5kwhV.js";import{b as d,e as Te}from"./react-gNaiavg9.js";import{G as ce,H as Q,I as he,J as Le,D as xe,K as z,M as Be,N as me,T as Pe,O as Ue,P as be,Q as qe}from"./firebase-BkMFZbKL.js";import{s as K}from"./scheduleService-Dk1QD1JP.js";import{s as _}from"./standingsService-BweKxGZq.js";function Oe(){const[y,R]=d.useState([]),[D,q]=d.useState(!0),[E,k]=d.useState(!1),[N,O]=d.useState(null),[x,p]=d.useState(!1),[T,M]=d.useState(!1),[L,f]=d.useState(!1),[w,b]=d.useState(null),[r,o]=d.useState({homeTeam:"",awayTeam:"",date:"",time:"",stadium:"",status:"Regular",finished:!1});d.useEffect(()=>{j()},[]),d.useEffect(()=>{if(w){const l=setTimeout(()=>b(null),3e3);return()=>clearTimeout(l)}},[w]);const j=async()=>{q(!0);try{const l=await K.getGames();R(l)}catch(l){console.error("Error loading games:",l)}finally{q(!1)}},m=async l=>{const h=new FormData;h.append("image",l);const c=await fetch("https://api.imgbb.com/1/upload?key=53d55929203cca2897412059c25399d3",{method:"POST",body:h});if(!c.ok)throw new Error("Error al subir la imagen");return(await c.json()).data.display_url},I=async l=>{var c;const h=(c=l.target.files)==null?void 0:c[0];if(h){if(h.size>5*1024*1024){alert("La imagen es muy grande. Máximo 5MB.");return}try{p(!0);const u=await m(h);o({...r,homeTeamLogo:u})}catch(u){console.error("Error subiendo logo:",u),alert("No se pudo subir el logo")}finally{p(!1)}}},$=async l=>{var c;const h=(c=l.target.files)==null?void 0:c[0];if(h){if(h.size>5*1024*1024){alert("La imagen es muy grande. Máximo 5MB.");return}try{M(!0);const u=await m(h);o({...r,awayTeamLogo:u})}catch(u){console.error("Error subiendo logo:",u),alert("No se pudo subir el logo")}finally{M(!1)}}},C=async l=>{if(l.preventDefault(),!r.homeTeam.trim()||!r.awayTeam.trim()||!r.stadium.trim()){b({type:"error",text:"Por favor completa los campos: Equipo Local, Equipo Visitante y Estadio"});return}f(!0),b(null);try{N?(await K.updateGame(N,r),b({type:"success",text:"Partido actualizado correctamente"})):(await K.addGame(r),b({type:"success",text:"Partido creado correctamente"})),await new Promise(h=>setTimeout(h,500)),await j(),A()}catch(h){console.error("Error saving game:",h),b({type:"error",text:`Error al guardar: ${h instanceof Error?h.message:"Error desconocido"}`})}finally{f(!1)}},B=async l=>{if(confirm("¿Eliminar este partido?"))try{await K.deleteGame(l),await j()}catch(h){console.error("Error deleting game:",h)}},Z=l=>{o({homeTeam:l.homeTeam,awayTeam:l.awayTeam,homeTeamLogo:l.homeTeamLogo,awayTeamLogo:l.awayTeamLogo,date:l.date||"",time:l.time||"",stadium:l.stadium,status:l.status,finished:l.finished,homeTeamScore:l.homeTeamScore,awayTeamScore:l.awayTeamScore}),O(l.id||null),k(!0)},A=()=>{o({homeTeam:"",awayTeam:"",date:"",time:"",stadium:"",status:"Regular",finished:!1}),O(null),k(!1)};return e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsx("h2",{className:"text-3xl font-bold text-yellow-400",children:"Gestionar Programación"}),!E&&e.jsx("button",{onClick:()=>k(!0),className:"bg-yellow-400 text-gray-900 px-6 py-3 rounded-lg font-bold hover:bg-yellow-300 transition-colors",children:"+ Agregar Partido"})]}),E&&e.jsxs("div",{className:"bg-gray-700 p-6 rounded-lg mb-6 border-2 border-yellow-400",children:[e.jsx("h3",{className:"text-xl font-bold text-yellow-400 mb-4",children:N?"Editar Partido":"Nuevo Partido"}),e.jsxs("form",{onSubmit:C,className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-200 mb-2",children:"Equipo Local"}),e.jsx("input",{type:"text",value:r.homeTeam,onChange:l=>o({...r,homeTeam:l.target.value}),className:"w-full px-4 py-2 bg-gray-600 text-white rounded-lg border border-gray-500 focus:border-yellow-400 focus:outline-none",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-200 mb-2",children:"Logo Equipo Local"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"file",accept:"image/*",onChange:I,className:"w-full px-4 py-2 bg-gray-600 text-white rounded-lg border border-gray-500 focus:border-yellow-400 focus:outline-none text-sm",disabled:x}),r.homeTeamLogo&&e.jsx("img",{src:r.homeTeamLogo,alt:"Logo Local",className:"w-10 h-10 rounded object-cover"})]}),x&&e.jsx("p",{className:"text-yellow-400 text-xs mt-1",children:"Subiendo..."})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-200 mb-2",children:"Equipo Visitante"}),e.jsx("input",{type:"text",value:r.awayTeam,onChange:l=>o({...r,awayTeam:l.target.value}),className:"w-full px-4 py-2 bg-gray-600 text-white rounded-lg border border-gray-500 focus:border-yellow-400 focus:outline-none",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-200 mb-2",children:"Logo Equipo Visitante"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"file",accept:"image/*",onChange:$,className:"w-full px-4 py-2 bg-gray-600 text-white rounded-lg border border-gray-500 focus:border-yellow-400 focus:outline-none text-sm",disabled:T}),r.awayTeamLogo&&e.jsx("img",{src:r.awayTeamLogo,alt:"Logo Visitante",className:"w-10 h-10 rounded object-cover"})]}),T&&e.jsx("p",{className:"text-yellow-400 text-xs mt-1",children:"Subiendo..."})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-200 mb-2",children:"Fecha"}),e.jsx("input",{type:"date",value:r.date,onChange:l=>o({...r,date:l.target.value}),className:"w-full px-4 py-2 bg-gray-600 text-white rounded-lg border border-gray-500 focus:border-yellow-400 focus:outline-none"}),e.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"Opcional: deja vacío si no se ha acordado"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-200 mb-2",children:"Hora"}),e.jsx("input",{type:"time",value:r.time,onChange:l=>o({...r,time:l.target.value}),className:"w-full px-4 py-2 bg-gray-600 text-white rounded-lg border border-gray-500 focus:border-yellow-400 focus:outline-none"}),e.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"Opcional: deja vacío si no se ha acordado"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-200 mb-2",children:"Estadio"}),e.jsx("input",{type:"text",value:r.stadium,onChange:l=>o({...r,stadium:l.target.value}),className:"w-full px-4 py-2 bg-gray-600 text-white rounded-lg border border-gray-500 focus:border-yellow-400 focus:outline-none",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-200 mb-2",children:"Estado"}),e.jsxs("select",{value:r.status,onChange:l=>o({...r,status:l.target.value}),className:"w-full px-4 py-2 bg-gray-600 text-white rounded-lg border border-gray-500 focus:border-yellow-400 focus:outline-none",children:[e.jsx("option",{value:"Pretemporada",children:"Pretemporada"}),e.jsx("option",{value:"Regular",children:"Regular"}),e.jsx("option",{value:"Postemporada",children:"Postemporada"})]})]})]}),r.finished&&e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-200 mb-2",children:"Goles Local"}),e.jsx("input",{type:"number",value:r.homeTeamScore??"",onChange:l=>{const h=l.target.value;o({...r,homeTeamScore:h===""?void 0:parseInt(h,10)})},className:"w-full px-4 py-2 bg-gray-600 text-white rounded-lg border border-gray-500 focus:border-yellow-400 focus:outline-none"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-200 mb-2",children:"Goles Visitante"}),e.jsx("input",{type:"number",value:r.awayTeamScore??"",onChange:l=>{const h=l.target.value;o({...r,awayTeamScore:h===""?void 0:parseInt(h,10)})},className:"w-full px-4 py-2 bg-gray-600 text-white rounded-lg border border-gray-500 focus:border-yellow-400 focus:outline-none"})]})]}),e.jsx("div",{className:"flex items-center gap-4",children:e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:r.finished,onChange:l=>o({...r,finished:l.target.checked}),className:"w-5 h-5"}),e.jsx("span",{className:"text-gray-200",children:"Partido finalizado"})]})}),w&&e.jsx("div",{className:`p-4 rounded-lg ${w.type==="success"?"bg-green-900/30 border border-green-600 text-green-300":"bg-red-900/30 border border-red-600 text-red-300"}`,children:w.text}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx("button",{type:"submit",disabled:L,className:"bg-green-600 hover:bg-green-500 disabled:bg-green-800 disabled:cursor-not-allowed text-white px-6 py-2 rounded-lg font-semibold transition-colors",children:L?"Guardando...":N?"Guardar Cambios":"Crear Partido"}),e.jsx("button",{type:"button",onClick:A,className:"bg-gray-600 hover:bg-gray-500 text-white px-6 py-2 rounded-lg font-semibold transition-colors",children:"Cancelar"})]})]})]}),D?e.jsx("p",{className:"text-gray-300",children:"Cargando partidos..."}):y.length===0?e.jsx("p",{className:"text-gray-400",children:"No hay partidos registrados"}):e.jsx("div",{className:"space-y-4",children:y.map(l=>e.jsxs("div",{className:"bg-gray-700 p-4 rounded-lg border-l-4 border-yellow-400 flex justify-between items-center",children:[e.jsx("div",{className:"flex-1",children:e.jsxs("div",{className:"flex items-center gap-4",children:[l.homeTeamLogo&&e.jsx("img",{src:l.homeTeamLogo,alt:l.homeTeam,className:"w-8 h-8 rounded object-cover"}),e.jsxs("div",{children:[e.jsxs("p",{className:"font-bold text-white",children:[l.homeTeam," vs ",l.awayTeam]}),e.jsx("p",{className:"text-sm text-gray-300",children:l.date&&l.time?e.jsxs(e.Fragment,{children:[l.date," - ",l.time," (",l.stadium,")"]}):e.jsxs(e.Fragment,{children:["Fecha no acordada (",l.stadium,")"]})}),e.jsx("p",{className:"text-xs text-gray-400 mt-1",children:l.status})]}),l.awayTeamLogo&&e.jsx("img",{src:l.awayTeamLogo,alt:l.awayTeam,className:"w-8 h-8 rounded object-cover"}),l.finished&&e.jsx("div",{className:"ml-4",children:e.jsxs("p",{className:"text-xl font-bold text-yellow-400",children:[l.homeTeamScore," - ",l.awayTeamScore]})})]})}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{onClick:()=>Z(l),className:"bg-blue-600 hover:bg-blue-500 text-white px-4 py-2 rounded-lg text-sm font-semibold transition-colors",children:"Editar"}),e.jsx("button",{onClick:()=>B(l.id),className:"bg-red-600 hover:bg-red-500 text-white px-4 py-2 rounded-lg text-sm font-semibold transition-colors",children:"Eliminar"})]})]},l.id))})]})}function Me(){const[y,R]=d.useState([]),[D,q]=d.useState(!0),[E,k]=d.useState(!1),[N,O]=d.useState(null),[x,p]=d.useState({rank:1,teamName:"",division:"Regular",games:0,wins:0,losses:0,ties:0});d.useEffect(()=>{T()},[]);const T=async()=>{q(!0);try{const r=await _.getStandings();R(r)}catch(r){console.error("Error loading standings:",r)}finally{q(!1)}},M=async r=>{r.preventDefault();const o=x.wins+x.losses+x.ties,j={...x,games:o};try{N?await _.updateTeamStanding(N,j):await _.addTeamStanding(j),await T(),w()}catch(m){console.error("Error saving standing:",m)}},L=async r=>{if(confirm("¿Eliminar este equipo de la clasificación?"))try{await _.deleteTeamStanding(r),await T()}catch(o){console.error("Error deleting standing:",o)}},f=r=>{p({rank:r.rank,teamName:r.teamName,logo:r.logo,division:r.division,games:r.games,wins:r.wins,losses:r.losses,ties:r.ties}),O(r.id||null),k(!0)},w=()=>{p({rank:1,teamName:"",division:"Regular",games:0,wins:0,losses:0,ties:0}),O(null),k(!1)},b=Array.from(new Set(y.map(r=>r.division)));return e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsx("h2",{className:"text-3xl font-bold text-yellow-400",children:"Gestionar Clasificación"}),!E&&e.jsx("button",{onClick:()=>k(!0),className:"bg-yellow-400 text-gray-900 px-6 py-3 rounded-lg font-bold hover:bg-yellow-300 transition-colors",children:"+ Agregar Equipo"})]}),E&&e.jsxs("div",{className:"bg-gray-700 p-6 rounded-lg mb-6 border-2 border-yellow-400",children:[e.jsx("h3",{className:"text-xl font-bold text-yellow-400 mb-4",children:N?"Editar Equipo":"Nuevo Equipo"}),e.jsxs("form",{onSubmit:M,className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-200 mb-2",children:"Posición"}),e.jsx("input",{type:"number",value:x.rank,onChange:r=>p({...x,rank:parseInt(r.target.value)}),className:"w-full px-4 py-2 bg-gray-600 text-white rounded-lg border border-gray-500 focus:border-yellow-400 focus:outline-none",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-200 mb-2",children:"Nombre del Equipo"}),e.jsx("input",{type:"text",value:x.teamName,onChange:r=>p({...x,teamName:r.target.value}),className:"w-full px-4 py-2 bg-gray-600 text-white rounded-lg border border-gray-500 focus:border-yellow-400 focus:outline-none",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-200 mb-2",children:"División"}),e.jsxs("select",{value:x.division,onChange:r=>p({...x,division:r.target.value}),className:"w-full px-4 py-2 bg-gray-600 text-white rounded-lg border border-gray-500 focus:border-yellow-400 focus:outline-none",children:[e.jsx("option",{value:"Regular",children:"Regular"}),e.jsx("option",{value:"Oeste",children:"Oeste"}),e.jsx("option",{value:"Central",children:"Central"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-200 mb-2",children:"URL Logo"}),e.jsx("input",{type:"text",value:x.logo||"",onChange:r=>p({...x,logo:r.target.value}),className:"w-full px-4 py-2 bg-gray-600 text-white rounded-lg border border-gray-500 focus:border-yellow-400 focus:outline-none",placeholder:"https://..."})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-200 mb-2",children:"Victorias"}),e.jsx("input",{type:"number",value:x.wins,onChange:r=>p({...x,wins:parseInt(r.target.value)}),className:"w-full px-4 py-2 bg-gray-600 text-white rounded-lg border border-gray-500 focus:border-yellow-400 focus:outline-none",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-200 mb-2",children:"Derrotas"}),e.jsx("input",{type:"number",value:x.losses,onChange:r=>p({...x,losses:parseInt(r.target.value)}),className:"w-full px-4 py-2 bg-gray-600 text-white rounded-lg border border-gray-500 focus:border-yellow-400 focus:outline-none",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-200 mb-2",children:"Empates"}),e.jsx("input",{type:"number",value:x.ties??"",onChange:r=>{const o=r.target.value;p({...x,ties:o===""?0:parseInt(o,10)})},className:"w-full px-4 py-2 bg-gray-600 text-white rounded-lg border border-gray-500 focus:border-yellow-400 focus:outline-none",placeholder:"0"})]})]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx("button",{type:"submit",className:"bg-green-600 hover:bg-green-500 text-white px-6 py-2 rounded-lg font-semibold transition-colors",children:N?"Guardar Cambios":"Crear Equipo"}),e.jsx("button",{type:"button",onClick:w,className:"bg-gray-600 hover:bg-gray-500 text-white px-6 py-2 rounded-lg font-semibold transition-colors",children:"Cancelar"})]})]})]}),b.length>0&&e.jsx("div",{className:"space-y-8",children:b.map(r=>e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-bold text-yellow-400 mb-3",children:r}),e.jsx("div",{className:"bg-gray-700 rounded-lg overflow-hidden border-2 border-yellow-400",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"bg-gray-800 border-b border-gray-600",children:[e.jsx("th",{className:"px-4 py-2 text-left text-sm font-bold",children:"#"}),e.jsx("th",{className:"px-4 py-2 text-left text-sm font-bold",children:"Equipo"}),e.jsx("th",{className:"px-4 py-2 text-center text-sm font-bold",children:"J"}),e.jsx("th",{className:"px-4 py-2 text-center text-sm font-bold",children:"G"}),e.jsx("th",{className:"px-4 py-2 text-center text-sm font-bold",children:"P"}),e.jsx("th",{className:"px-4 py-2 text-center text-sm font-bold",children:"E"}),e.jsx("th",{className:"px-4 py-2 text-center text-sm font-bold",children:"Acciones"})]})}),e.jsx("tbody",{children:y.filter(o=>o.division===r).sort((o,j)=>o.rank-j.rank).map(o=>e.jsxs("tr",{className:"border-b border-gray-600 hover:bg-gray-600",children:[e.jsx("td",{className:"px-4 py-2 font-bold text-yellow-400",children:o.rank}),e.jsx("td",{className:"px-4 py-2",children:e.jsxs("div",{className:"flex items-center gap-2",children:[o.logo&&e.jsx("img",{src:o.logo,alt:o.teamName,className:"w-6 h-6"}),e.jsx("span",{className:"text-sm",children:o.teamName})]})}),e.jsx("td",{className:"px-4 py-2 text-center text-sm",children:o.games}),e.jsx("td",{className:"px-4 py-2 text-center text-sm font-bold text-green-400",children:o.wins}),e.jsx("td",{className:"px-4 py-2 text-center text-sm font-bold text-red-400",children:o.losses}),e.jsx("td",{className:"px-4 py-2 text-center text-sm font-bold text-yellow-400",children:o.ties}),e.jsxs("td",{className:"px-4 py-2 text-center",children:[e.jsx("button",{onClick:()=>f(o),className:"bg-blue-600 hover:bg-blue-500 text-white px-2 py-1 rounded text-xs mr-1",children:"Editar"}),e.jsx("button",{onClick:()=>L(o.id),className:"bg-red-600 hover:bg-red-500 text-white px-2 py-1 rounded text-xs",children:"Eliminar"})]})]},o.id))})]})})]},r))}),D&&e.jsx("p",{className:"text-gray-300",children:"Cargando clasificación..."}),!D&&y.length===0&&e.jsx("p",{className:"text-gray-400",children:"No hay equipos registrados"})]})}const Ae=()=>{const[y,R]=d.useState("news"),[D,q]=d.useState(""),[E,k]=d.useState(""),[N,O]=d.useState("Temporada"),[x,p]=d.useState(null),[T,M]=d.useState(""),[L,f]=d.useState(!1),[w,b]=d.useState(!1),[r,o]=d.useState(""),[j,m]=d.useState(""),[I,$]=d.useState([]),[C,B]=d.useState(null),[Z,A]=d.useState(""),[l,h]=d.useState([]),[c,u]=d.useState({name:"",city:"",record:"",logoUrl:"",hits:void 0,runs:void 0,hr:void 0,so:void 0,power:void 0,contact:void 0,defense:void 0,speed:void 0,lineup:[],members:"",lineupText:"",order:l.length+1}),[H,ee]=d.useState(null),[v,P]=d.useState({champion:{name:"",season:"",detail:""},featuredTeamId:"",leadersBatting:[{label:"OPS",stat:"",leader:"",position:"",entries:[{name:"",value:"",imageUrl:""}]}],leadersPitching:[{label:"SO",stat:"",leader:"",position:"",entries:[{name:"",value:"",imageUrl:""}]}]}),{user:V,logout:ue}=Ee(),X=Te();d.useEffect(()=>{V||X("/admin-wbl-2026/login")},[V,X]),d.useEffect(()=>{te(),Y(),ge()},[]);const te=async()=>{try{const t=ce(Q(U,"news"),he("createdAt","desc"),Le(5)),a=(await xe(t)).docs.map(i=>({id:i.id,...i.data()}));$(a)}catch(t){console.error("Error loading news:",t)}},Y=async()=>{try{const t=await xe(ce(Q(U,"teams"),he("order","asc")));if(!t.empty){const s=t.docs.map(a=>({id:a.id,...a.data()}));h(s)}}catch(t){console.error("Error loading teams:",t)}},ge=async()=>{try{const t=z(U,"stats","current"),s=await Be(t);if(s.exists()){const a=s.data();P({champion:a.champion||{name:"",season:"",detail:""},featuredTeamId:a.featuredTeamId||"",leadersBatting:a.leadersBatting&&a.leadersBatting.length?a.leadersBatting:v.leadersBatting,leadersPitching:a.leadersPitching&&a.leadersPitching.length?a.leadersPitching:v.leadersPitching})}}catch(t){console.error("Error loading stats:",t)}},pe=t=>{var a;const s=(a=t.target.files)==null?void 0:a[0];if(s){if(s.size>5*1024*1024){m("La imagen es muy grande. Máximo 5MB.");return}p(s),M(URL.createObjectURL(s)),m("")}},W=async t=>{const s=new FormData;s.append("image",t);const a=await fetch("https://api.imgbb.com/1/upload?key=53d55929203cca2897412059c25399d3",{method:"POST",body:s});if(!a.ok)throw new Error("Error al subir la imagen");return(await a.json()).data.display_url},we=async t=>{t.preventDefault(),m(""),o(""),b(!0);try{const s=new Date,a=s.toLocaleDateString("es-ES",{month:"long",year:"numeric"});let i="";x&&(f(!0),i=await W(x),f(!1)),await me(Q(U,"news"),{title:D,body:E,tag:N,date:a,createdAt:Pe.fromDate(s),...i&&{imageUrl:i}}),o("¡Noticia publicada exitosamente!"),q(""),k(""),O("Temporada"),p(null),M(""),te()}catch(s){m(s.message||"Error al publicar la noticia. Intenta de nuevo."),console.error(s)}finally{b(!1)}},je=t=>{t&&(B(`delete-${t}`),A(""))},ye=async()=>{if(C)try{b(!0);const t=C.replace(/^delete-/,"");await be(z(U,"news",t)),$(s=>s.filter(a=>a.id!==t))}catch(t){console.error("Error al eliminar noticia",t),m("No se pudo eliminar la noticia.")}finally{b(!1),B(null),A("")}},fe=async()=>{await ue(),X("/")},se=()=>{u({name:"",city:"",record:"",logoUrl:"",hits:void 0,runs:void 0,hr:void 0,so:void 0,power:void 0,contact:void 0,defense:void 0,speed:void 0,lineup:[],members:"",lineupText:"",order:(l.length||0)+1}),ee(null)},Ne=async t=>{t.preventDefault(),m(""),o(""),b(!0);try{const s=c.lineupText.split(",").map(n=>n.trim()).filter(Boolean),a={name:c.name,city:c.city,record:c.record,logoUrl:c.logoUrl,members:c.members,lineup:s,order:c.order||l.length+1};["hits","runs","hr","so","power","contact","defense","speed"].forEach(n=>{const g=c[n];(g===0||g!=null&&!Number.isNaN(g))&&(a[n]=Number(g))}),H?(await Ue(z(U,"teams",H),a),o("Equipo actualizado.")):(await me(Q(U,"teams"),a),o("Equipo creado.")),await Y(),se()}catch(s){console.error("Error guardando equipo",s),m(s.message||"No se pudo guardar el equipo")}finally{b(!1)}},ve=t=>{ee(t.id||null),u({...t,lineupText:t.lineup.join(", ")})},ke=async t=>{if(t)try{b(!0),await be(z(U,"teams",t)),await Y(),o("Equipo eliminado")}catch(s){console.error("Error eliminando equipo",s),m("No se pudo eliminar el equipo")}finally{b(!1)}},Ce=async t=>{var a;const s=(a=t.target.files)==null?void 0:a[0];if(s){if(s.size>5*1024*1024){m("La imagen es muy grande. Máximo 5MB.");return}try{f(!0);const i=await W(s);u(n=>({...n,logoUrl:i}))}catch(i){console.error("Error subiendo logo",i),m("No se pudo subir el logo")}finally{f(!1)}}},G=(t,s)=>{P(a=>{const i=JSON.parse(JSON.stringify(a)),[n,...g]=t.split(".");return n==="champion"&&g.length&&(i.champion[g[0]]=s),n==="featuredTeamId"&&(i.featuredTeamId=s),i})},S=(t,s,a,i)=>{P(n=>{const g=JSON.parse(JSON.stringify(n));return g[t][s][a]=i,g})},J=(t,s,a,i,n)=>{P(g=>{const F=JSON.parse(JSON.stringify(g));return F[t][s].entries[a][i]=n,F})},ae=async(t,s,a,i)=>{var g;const n=(g=t.target.files)==null?void 0:g[0];if(n){if(n.size>5*1024*1024){m("La imagen es muy grande. Máximo 5MB.");return}try{f(!0);const F=await W(n);J(s,a,i,"imageUrl",F)}catch(F){console.error("Error subiendo avatar",F),m("No se pudo subir el icono")}finally{f(!1)}}},re=(t,s)=>{P(a=>{const i=JSON.parse(JSON.stringify(a));return i[t][s].entries.push({name:"",value:"",imageUrl:""}),i})},le=async(t,s,a)=>{var n;const i=(n=t.target.files)==null?void 0:n[0];if(i){if(i.size>5*1024*1024){m("La imagen es muy grande. Máximo 5MB.");return}try{f(!0);const g=await W(i);P(F=>{const de=JSON.parse(JSON.stringify(F));return de[s][a].imageUrl=g,de})}catch(g){console.error("Error subiendo icono principal",g),m("No se pudo subir el icono")}finally{f(!1)}}},ie=(t,s,a)=>{P(i=>{const n=JSON.parse(JSON.stringify(i));return n[t][s].entries.length<=1?i:(n[t][s].entries.splice(a,1),n)})},oe=t=>{P(s=>{const a=JSON.parse(JSON.stringify(s));return a[t].push({label:"",stat:"",leader:"",position:"",entries:[{name:"",value:"",imageUrl:""}]}),a})},ne=(t,s)=>{P(a=>{const i=JSON.parse(JSON.stringify(a));return i[t].length<=1?a:(i[t].splice(s,1),i)})},Se=async t=>{t.preventDefault(),m(""),o(""),b(!0);try{await qe(z(U,"stats","current"),v),o("Estadísticas actualizadas")}catch(s){console.error("Error guardando estadísticas",s),m("No se pudo guardar las estadísticas")}finally{b(!1)}};return V?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"min-h-screen px-4 py-8",children:e.jsxs("div",{className:"max-w-7xl w-full mx-auto",children:[e.jsxs("div",{className:"flex items-center justify-between mb-8",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"font-display text-2xl sm:text-3xl mb-2",children:"Panel de Administración"}),e.jsxs("p",{className:"text-white/70 text-sm",children:["Bienvenido, ",V.email]})]}),e.jsx("button",{onClick:fe,className:"px-4 py-2 rounded-lg bg-white/10 border border-white/20 text-white hover:bg-white/20 transition-colors",children:"Cerrar Sesión"})]}),e.jsx("div",{className:"flex flex-wrap gap-2 mb-6",children:[{key:"news",label:"Noticias"},{key:"teams",label:"Equipos"},{key:"stats",label:"Estadísticas"},{key:"schedule",label:"Programación"},{key:"standings",label:"Clasificación"}].map(t=>e.jsx("button",{onClick:()=>{R(t.key),o(""),m("")},className:`px-4 py-2 rounded-lg border ${y===t.key?"bg-habboOrange text-[#0f1018] border-transparent":"bg-white/5 border-white/15 text-white"} hover:border-habboOrange/40 transition-colors`,children:t.label},t.key))}),y==="news"&&e.jsxs("div",{className:"grid gap-6 lg:grid-cols-2",children:[e.jsxs("div",{className:"bg-white/5 border border-white/10 rounded-2xl p-6 card-glow",children:[e.jsx("h2",{className:"font-display text-xl mb-4",children:"Publicar Noticia"}),e.jsxs("form",{onSubmit:we,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"title",className:"block text-sm font-medium text-white/80 mb-2",children:"Título"}),e.jsx("input",{type:"text",id:"title",value:D,onChange:t=>q(t.target.value),required:!0,maxLength:100,className:"w-full px-4 py-3 rounded-lg bg-white/10 border border-white/20 text-white placeholder-white/40 focus:outline-none focus:ring-2 focus:ring-habboSky focus:border-transparent",placeholder:"Título de la noticia"})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"body",className:"block text-sm font-medium text-white/80 mb-2",children:"Contenido"}),e.jsx("textarea",{id:"body",value:E,onChange:t=>k(t.target.value),required:!0,rows:4,maxLength:300,className:"w-full px-4 py-3 rounded-lg bg-white/10 border border-white/20 text-white placeholder-white/40 focus:outline-none focus:ring-2 focus:ring-habboSky focus:border-transparent resize-none",placeholder:"Escribe el contenido de la noticia..."}),e.jsxs("p",{className:"text-xs text-white/60 mt-1",children:[E.length,"/300 caracteres"]})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"tag",className:"block text-sm font-medium text-white/80 mb-2",children:"Categoría"}),e.jsxs("select",{id:"tag",value:N,onChange:t=>O(t.target.value),className:"w-full px-4 py-3 rounded-lg bg-white/10 border border-white/20 text-white focus:outline-none focus:ring-2 focus:ring-habboSky focus:border-transparent",children:[e.jsx("option",{value:"Temporada",children:"Temporada"}),e.jsx("option",{value:"Fichajes",children:"Fichajes"}),e.jsx("option",{value:"Eventos",children:"Eventos"}),e.jsx("option",{value:"Anuncio",children:"Anuncio"})]})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"image",className:"block text-sm font-medium text-white/80 mb-2",children:"Imagen (opcional, máx 5MB)"}),e.jsx("input",{type:"file",id:"image",accept:"image/*",onChange:pe,className:"w-full px-4 py-3 rounded-lg bg-white/10 border border-white/20 text-white file:mr-4 file:py-2 file:px-4 file:rounded-lg file:border-0 file:text-sm file:font-semibold file:bg-habboOrange file:text-[#0f1018] hover:file:bg-habboOrange/90 file:cursor-pointer"}),T&&e.jsxs("div",{className:"mt-2 relative w-full overflow-hidden rounded-lg border border-white/10",style:{paddingTop:"56%"},children:[e.jsx("img",{src:T,alt:"Preview",className:"absolute inset-0 w-full h-full object-cover"}),e.jsx("button",{type:"button",onClick:()=>{p(null),M("")},className:"absolute top-2 right-2 p-1 rounded-full bg-habboBrick/80 hover:bg-habboBrick text-white",children:e.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})]}),r&&e.jsx("div",{className:"p-3 rounded-lg bg-habboMint/20 border border-habboMint/40",children:e.jsx("p",{className:"text-sm text-habboMint",children:r})}),j&&e.jsx("div",{className:"p-3 rounded-lg bg-habboBrick/20 border border-habboBrick/40",children:e.jsx("p",{className:"text-sm text-habboBrick",children:j})}),e.jsx("button",{type:"submit",disabled:w||L,className:"w-full px-4 py-3 rounded-lg bg-habboOrange text-[#0f1018] font-semibold shadow-pixel hover:scale-105 transition-transform disabled:opacity-50 disabled:cursor-not-allowed",children:L?"Subiendo imagen...":w?"Publicando...":"Publicar Noticia"})]})]}),e.jsxs("div",{className:"bg-white/5 border border-white/10 rounded-2xl p-6 card-glow",children:[e.jsx("h2",{className:"font-display text-xl mb-4",children:"Noticias Recientes"}),e.jsx("div",{className:"space-y-3",children:I.length===0?e.jsx("p",{className:"text-white/60 text-sm",children:"No hay noticias publicadas aún."}):I.map((t,s)=>e.jsxs("div",{className:"p-3 rounded-lg bg-white/5 border border-white/10 cursor-pointer hover:bg-white/8 transition-colors",onClick:()=>B(t.id||null),children:[e.jsxs("div",{className:"flex items-center justify-between mb-1",children:[e.jsx("span",{className:"text-xs text-habboOrange font-semibold",children:t.tag}),e.jsx("span",{className:"text-xs text-white/60",children:t.date})]}),t.imageUrl&&e.jsx("div",{className:"relative w-full overflow-hidden rounded-lg border border-white/5 mb-2",style:{paddingTop:"56%"},children:e.jsx("img",{src:t.imageUrl,alt:t.title,className:"absolute inset-0 w-full h-full object-cover"})}),e.jsx("h3",{className:"font-semibold text-sm mb-1 line-clamp-2",children:t.title}),e.jsx("p",{className:"text-xs text-white/75 line-clamp-3",children:t.body}),e.jsxs("div",{className:"flex items-center justify-between mt-2",children:[e.jsx("span",{className:"text-[10px] text-white/50 hover:text-white/70",children:"Haz click para leer más"}),e.jsx("button",{onClick:a=>{a.stopPropagation(),je(t.id)},className:"text-xs px-3 py-1 rounded-lg bg-habboBrick/70 text-white hover:bg-habboBrick transition-colors",children:"Eliminar"})]})]},s))})]})]}),y==="teams"&&e.jsxs("div",{className:"grid gap-6",children:[e.jsxs("div",{className:"bg-white/5 border border-white/10 rounded-2xl p-6 card-glow",children:[e.jsx("h2",{className:"font-display text-xl mb-4",children:"Equipos"}),r&&e.jsx("div",{className:"p-3 rounded-lg bg-habboMint/20 border border-habboMint/40 mb-3",children:e.jsx("p",{className:"text-sm text-habboMint",children:r})}),j&&e.jsx("div",{className:"p-3 rounded-lg bg-habboBrick/20 border border-habboBrick/40 mb-3",children:e.jsx("p",{className:"text-sm text-habboBrick",children:j})}),e.jsxs("form",{onSubmit:Ne,className:"grid gap-4",children:[e.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[e.jsxs("div",{className:"p-4 rounded-xl border border-white/10 bg-white/5 space-y-3",children:[e.jsx("p",{className:"text-sm text-white/70 font-semibold",children:"Identidad del equipo"}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm text-white/80 mb-1",children:"Nombre (ej. Guerreros de La Habana)"}),e.jsx("input",{className:"w-full px-3 py-2 rounded-lg bg-white/10 border border-white/20 text-white",value:c.name,onChange:t=>u({...c,name:t.target.value}),required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm text-white/80 mb-1",children:"Ciudad (ej. La Habana)"}),e.jsx("input",{className:"w-full px-3 py-2 rounded-lg bg-white/10 border border-white/20 text-white",value:c.city,onChange:t=>u({...c,city:t.target.value}),required:!0})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm text-white/80 mb-1",children:"Record (ej. 18-6)"}),e.jsx("input",{className:"w-full px-3 py-2 rounded-lg bg-white/10 border border-white/20 text-white",value:c.record,onChange:t=>u({...c,record:t.target.value}),placeholder:"18-6",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm text-white/80 mb-1",children:"Orden (controla el orden en la lista)"}),e.jsx("input",{type:"number",className:"w-full px-3 py-2 rounded-lg bg-white/10 border border-white/20 text-white",value:c.order||1,onChange:t=>u({...c,order:Number(t.target.value)})})]})]})]}),e.jsxs("div",{className:"p-4 rounded-xl border border-white/10 bg-white/5 space-y-3",children:[e.jsx("p",{className:"text-sm text-white/70 font-semibold",children:"Logo, lineup e integrantes"}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm text-white/80 mb-1",children:"Logo (png/jpg, máx 5MB)"}),e.jsx("input",{type:"file",accept:"image/*",onChange:Ce,className:"w-full text-white"}),e.jsx("p",{className:"text-[11px] text-white/60 mt-1",children:"Usa fondo transparente si es posible."}),c.logoUrl&&e.jsx("img",{src:c.logoUrl,alt:"logo",className:"mt-2 h-16 w-auto rounded border border-white/10"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm text-white/80 mb-1",children:"Lineup (separa con coma, orden de bateo)"}),e.jsx("textarea",{className:"w-full px-3 py-2 rounded-lg bg-white/10 border border-white/20 text-white",rows:2,value:c.lineupText,onChange:t=>u({...c,lineupText:t.target.value}),placeholder:"Jugador1, Jugador2, Jugador3"}),e.jsx("p",{className:"text-[11px] text-white/60 mt-1",children:"Ejemplo: Kush, Lucas, Flash, JJ."})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm text-white/80 mb-1",children:"Integrantes (texto libre)"}),e.jsx("textarea",{className:"w-full px-3 py-2 rounded-lg bg-white/10 border border-white/20 text-white",rows:2,value:c.members,onChange:t=>u({...c,members:t.target.value}),placeholder:"Kush, Lucas, Flash, JJ, xzxxzc"}),e.jsx("p",{className:"text-[11px] text-white/60 mt-1",children:"Incluye roster ampliado o staff si aplica."})]})]})]}),e.jsxs("div",{className:"p-4 rounded-xl border border-white/10 bg-white/5 space-y-3",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-white/70 font-semibold",children:"Stats ofensivas / alternativas"}),e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3 text-sm mt-2",children:[{key:"hits",label:"HITS"},{key:"runs",label:"RUNS"},{key:"hr",label:"HR"},{key:"so",label:"SO (ponches)"}].map(t=>e.jsxs("div",{className:"space-y-1",children:[e.jsx("label",{className:"block text-xs text-white/70",children:t.label}),e.jsx("input",{type:"number",placeholder:t.label,className:"w-full px-3 py-2 rounded-lg bg-white/10 border border-white/20 text-white",value:c[t.key]??"",onChange:s=>{const a=s.target.value;u({...c,[t.key]:a===""?void 0:Number(a)})}})]},t.key))})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-white/70 font-semibold",children:"Ratings alternativos"}),e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3 text-sm mt-2",children:[{key:"power",label:"Poder"},{key:"contact",label:"Contacto"},{key:"defense",label:"Defensa"},{key:"speed",label:"Velocidad"}].map(t=>e.jsxs("div",{className:"space-y-1",children:[e.jsx("label",{className:"block text-xs text-white/70",children:t.label}),e.jsx("input",{type:"number",placeholder:t.label,className:"w-full px-3 py-2 rounded-lg bg-white/10 border border-white/20 text-white",value:c[t.key]??"",onChange:s=>{const a=s.target.value;u({...c,[t.key]:a===""?void 0:Number(a)})}})]},t.key))})]})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[e.jsx("button",{type:"submit",className:"flex-1 px-4 py-2 rounded-lg bg-habboOrange text-[#0f1018] font-semibold shadow-pixel disabled:opacity-50",disabled:w||L,children:H?"Actualizar equipo":"Crear equipo"}),H&&e.jsx("button",{type:"button",onClick:se,className:"px-4 py-2 rounded-lg border border-white/20 text-white hover:bg-white/10",children:"Cancelar"})]})]})]}),e.jsxs("div",{className:"bg-white/5 border border-white/10 rounded-2xl p-6 card-glow",children:[e.jsx("h3",{className:"font-display text-lg mb-3",children:"Listado"}),e.jsx("div",{className:"space-y-3",children:l.length===0?e.jsx("p",{className:"text-sm text-white/60",children:"Sin equipos todavía."}):l.map(t=>e.jsxs("div",{className:"p-3 rounded-lg bg-white/5 border border-white/10 flex items-center gap-3 justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[t.logoUrl&&e.jsx("img",{src:t.logoUrl,alt:"logo",className:"h-10 w-10 rounded bg-white/10 border border-white/10 object-contain"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold",children:t.name}),e.jsxs("p",{className:"text-xs text-white/60",children:[t.city," · ",t.record]})]})]}),e.jsxs("div",{className:"flex gap-2 text-xs",children:[e.jsx("button",{onClick:()=>ve(t),className:"px-3 py-1 rounded-lg bg-white/10 border border-white/15 hover:bg-white/15",children:"Editar"}),e.jsx("button",{onClick:()=>ke(t.id),className:"px-3 py-1 rounded-lg bg-habboBrick text-white hover:bg-habboBrick/90",children:"Eliminar"})]})]},t.id))})]})]}),y==="stats"&&e.jsx("div",{className:"grid gap-6",children:e.jsxs("form",{onSubmit:Se,className:"bg-white/5 border border-white/10 rounded-2xl p-6 md:p-8 card-glow space-y-6 max-w-7xl w-full mx-auto",children:[e.jsx("h2",{className:"font-display text-xl",children:"Estadísticas"}),r&&e.jsx("div",{className:"p-3 rounded-lg bg-habboMint/20 border border-habboMint/40",children:e.jsx("p",{className:"text-sm text-habboMint",children:r})}),j&&e.jsx("div",{className:"p-3 rounded-lg bg-habboBrick/20 border border-habboBrick/40",children:e.jsx("p",{className:"text-sm text-habboBrick",children:j})}),e.jsxs("div",{className:"grid gap-6 xl:gap-8 grid-cols-1 xl:grid-cols-2",children:[e.jsxs("div",{className:"p-4 lg:p-5 rounded-xl border border-white/10 bg-white/5 space-y-3",children:[e.jsx("p",{className:"text-sm text-white/70 font-semibold",children:"Campeón y destacado"}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"block text-sm text-white/80",children:"Nombre del campeón"}),e.jsx("input",{className:"w-full px-3 py-2 rounded-lg bg-white/10 border border-white/20 text-white",placeholder:"Ej. Conquistadores",value:v.champion.name,onChange:t=>G("champion.name",t.target.value)})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"block text-sm text-white/80",children:"Season"}),e.jsx("input",{className:"w-full px-3 py-2 rounded-lg bg-white/10 border border-white/20 text-white",placeholder:"Ej. 2026",value:v.champion.season,onChange:t=>G("champion.season",t.target.value)})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"block text-sm text-white/80",children:"Detalle (marcador, serie, etc.)"}),e.jsx("input",{className:"w-full px-3 py-2 rounded-lg bg-white/10 border border-white/20 text-white",placeholder:"Ej. 4-2 sobre Pirates",value:v.champion.detail,onChange:t=>G("champion.detail",t.target.value)})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"block text-sm text-white/80",children:"Equipo destacado"}),e.jsxs("div",{className:"flex flex-col gap-2",children:[e.jsxs("div",{className:"flex gap-2 flex-wrap",children:[e.jsxs("select",{className:"flex-1 min-w-[240px] px-3 py-2 rounded-lg bg-[#1f2937] border border-white/20 text-white",value:v.featuredTeamId,onChange:t=>G("featuredTeamId",t.target.value),children:[e.jsx("option",{className:"bg-[#111827] text-white",value:"",children:"(Sin destacado)"}),l.map(t=>e.jsx("option",{className:"bg-[#111827] text-white",value:t.id,children:t.name},t.id))]}),e.jsx("button",{type:"button",onClick:()=>G("featuredTeamId",""),className:"px-3 py-2 rounded-lg border border-white/20 text-white hover:bg-white/10",children:"Quitar destacado"})]}),e.jsx("p",{className:"text-[11px] text-white/60",children:"Selecciona un equipo o deja “Sin destacado” para ocultarlo en la vista pública."})]})]})]}),e.jsxs("div",{className:"p-4 lg:p-5 rounded-xl border border-white/10 bg-white/5 space-y-4",children:[e.jsx("p",{className:"text-sm text-white/70 font-semibold",children:"Líderes de bateo"}),e.jsx("p",{className:"text-[11px] text-white/60",children:"Llena cada tarjeta con el label (ej. OPS) y la línea principal; debajo agrega entradas para top 3."}),e.jsxs("div",{className:"space-y-3",children:[v.leadersBatting.map((t,s)=>e.jsxs("div",{className:"p-4 rounded-lg border border-white/10 bg-white/5 space-y-3 relative",children:[v.leadersBatting.length>1&&e.jsx("button",{type:"button",onClick:()=>ne("leadersBatting",s),className:"absolute top-2 right-2 p-1.5 rounded bg-habboBrick/80 hover:bg-habboBrick text-white transition-colors",title:"Eliminar tarjeta",children:e.jsx("svg",{className:"w-3.5 h-3.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3 text-sm",children:[e.jsxs("div",{className:"space-y-1",children:[e.jsx("label",{className:"block text-xs text-white/70",children:"Label (ej. OPS)"}),e.jsx("input",{className:"w-full px-3 py-2 rounded bg-white/10 border border-white/20 text-white",placeholder:"OPS",value:t.label,onChange:a=>S("leadersBatting",s,"label",a.target.value)})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("label",{className:"block text-xs text-white/70",children:"Stat (valor)"}),e.jsx("input",{className:"w-full px-3 py-2 rounded bg-white/10 border border-white/20 text-white",placeholder:"1.050",value:t.stat,onChange:a=>S("leadersBatting",s,"stat",a.target.value)})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("label",{className:"block text-xs text-white/70",children:"Líder principal"}),e.jsx("input",{className:"w-full px-3 py-2 rounded bg-white/10 border border-white/20 text-white",placeholder:"Nombre",value:t.leader,onChange:a=>S("leadersBatting",s,"leader",a.target.value)})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("label",{className:"block text-xs text-white/70",children:"Posición / Equipo"}),e.jsx("input",{className:"w-full px-3 py-2 rounded bg-white/10 border border-white/20 text-white",placeholder:"SS - Falcons",value:t.position,onChange:a=>S("leadersBatting",s,"position",a.target.value)})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("label",{className:"block text-xs text-white/70",children:"Foto del líder (opcional)"}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs("label",{className:"cursor-pointer",children:[e.jsx("input",{type:"file",accept:"image/*",onChange:a=>le(a,"leadersBatting",s),className:"hidden"}),e.jsx("span",{className:"inline-block px-4 py-2 text-xs rounded bg-white/10 border border-white/20 text-white hover:bg-white/15 transition-colors",children:"Seleccionar archivo"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[t.imageUrl&&e.jsx("img",{src:t.imageUrl,alt:"ico",className:"h-10 w-10 rounded bg-white/10 border border-white/10 object-contain"}),e.jsx("button",{type:"button",onClick:()=>S("leadersBatting",s,"imageUrl",""),className:`text-[11px] px-2 py-1 rounded ${t.imageUrl?"bg-habboBrick/80 hover:bg-habboBrick text-white":"bg-white/10 text-white/50 hover:bg-white/15"}`,disabled:!t.imageUrl,children:"Quitar"})]})]})]})]}),e.jsxs("div",{className:"mt-3 space-y-3",children:[e.jsx("p",{className:"text-xs text-white/60 font-medium",children:"Entradas del top:"}),t.entries.map((a,i)=>e.jsxs("div",{className:"p-3 rounded bg-white/5 border border-white/5 relative",children:[t.entries.length>1&&e.jsx("button",{type:"button",onClick:()=>ie("leadersBatting",s,i),className:"absolute top-2 right-2 p-1 rounded bg-habboBrick/70 hover:bg-habboBrick text-white transition-colors",title:"Eliminar entrada",children:e.jsx("svg",{className:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})}),e.jsxs("div",{className:"grid grid-cols-1 gap-3",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsxs("div",{className:"space-y-1",children:[e.jsx("label",{className:"block text-xs text-white/70",children:"Nombre"}),e.jsx("input",{className:"w-full px-3 py-2 rounded bg-white/10 border border-white/20 text-white text-sm",placeholder:"Kush",value:a.name,onChange:n=>J("leadersBatting",s,i,"name",n.target.value)})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("label",{className:"block text-xs text-white/70",children:"Valor"}),e.jsx("input",{className:"w-full px-3 py-2 rounded bg-white/10 border border-white/20 text-white text-sm",placeholder:"12",value:a.value,onChange:n=>J("leadersBatting",s,i,"value",n.target.value)})]})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("label",{className:"block text-xs text-white/70",children:"Icono (opcional)"}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs("label",{className:"cursor-pointer",children:[e.jsx("input",{type:"file",accept:"image/*",onChange:n=>ae(n,"leadersBatting",s,i),className:"hidden"}),e.jsx("span",{className:"inline-block px-4 py-2 text-xs rounded bg-white/10 border border-white/20 text-white hover:bg-white/15 transition-colors",children:"Seleccionar archivo"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[a.imageUrl&&e.jsx("img",{src:a.imageUrl,alt:"ico",className:"h-10 w-10 rounded bg-white/10 border border-white/10 object-contain"}),e.jsx("button",{type:"button",onClick:()=>J("leadersBatting",s,i,"imageUrl",""),className:`text-[11px] px-2 py-1 rounded ${a.imageUrl?"bg-habboBrick/80 hover:bg-habboBrick text-white":"bg-white/10 text-white/50 cursor-pointer hover:bg-white/15"}`,disabled:!a.imageUrl,children:"Quitar"})]})]})]})]})]},`be-${i}`)),e.jsx("button",{type:"button",onClick:()=>re("leadersBatting",s),className:"text-xs px-3 py-2 rounded bg-white/10 border border-white/15 hover:bg-white/15 transition-colors",children:"+ entrada"})]})]},`bat-${s}`)),e.jsx("button",{type:"button",onClick:()=>oe("leadersBatting"),className:"text-xs px-3 py-1 rounded bg-white/10 border border-white/15",children:"+ tarjeta bateo"})]})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("p",{className:"text-sm text-white/70 font-semibold",children:"Líderes de pitcheo"}),e.jsx("p",{className:"text-[11px] text-white/60",children:"Usa los mismos labels que en la vista pública (SO, ERA, etc.)."}),e.jsxs("div",{className:"space-y-3",children:[v.leadersPitching.map((t,s)=>e.jsxs("div",{className:"p-4 rounded-lg border border-white/10 bg-white/5 space-y-3 relative",children:[v.leadersPitching.length>1&&e.jsx("button",{type:"button",onClick:()=>ne("leadersPitching",s),className:"absolute top-2 right-2 p-1.5 rounded bg-habboBrick/80 hover:bg-habboBrick text-white transition-colors",title:"Eliminar tarjeta",children:e.jsx("svg",{className:"w-3.5 h-3.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3 text-sm",children:[e.jsxs("div",{className:"space-y-1",children:[e.jsx("label",{className:"block text-xs text-white/70",children:"Label (ej. SO)"}),e.jsx("input",{className:"w-full px-3 py-2 rounded bg-white/10 border border-white/20 text-white",placeholder:"SO",value:t.label,onChange:a=>S("leadersPitching",s,"label",a.target.value)})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("label",{className:"block text-xs text-white/70",children:"Stat (valor)"}),e.jsx("input",{className:"w-full px-3 py-2 rounded bg-white/10 border border-white/20 text-white",placeholder:"35",value:t.stat,onChange:a=>S("leadersPitching",s,"stat",a.target.value)})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("label",{className:"block text-xs text-white/70",children:"Líder principal"}),e.jsx("input",{className:"w-full px-3 py-2 rounded bg-white/10 border border-white/20 text-white",placeholder:"Nombre",value:t.leader,onChange:a=>S("leadersPitching",s,"leader",a.target.value)})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("label",{className:"block text-xs text-white/70",children:"Posición / Equipo"}),e.jsx("input",{className:"w-full px-3 py-2 rounded bg-white/10 border border-white/20 text-white",placeholder:"P - Raptors",value:t.position,onChange:a=>S("leadersPitching",s,"position",a.target.value)})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("label",{className:"block text-xs text-white/70",children:"Foto del líder (opcional)"}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs("label",{className:"cursor-pointer",children:[e.jsx("input",{type:"file",accept:"image/*",onChange:a=>le(a,"leadersPitching",s),className:"hidden"}),e.jsx("span",{className:"inline-block px-4 py-2 text-xs rounded bg-white/10 border border-white/20 text-white hover:bg-white/15 transition-colors",children:"Seleccionar archivo"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[t.imageUrl&&e.jsx("img",{src:t.imageUrl,alt:"ico",className:"h-10 w-10 rounded bg-white/10 border border-white/10 object-contain"}),e.jsx("button",{type:"button",onClick:()=>S("leadersPitching",s,"imageUrl",""),className:`text-[11px] px-2 py-1 rounded ${t.imageUrl?"bg-habboBrick/80 hover:bg-habboBrick text-white":"bg-white/10 text-white/50 hover:bg-white/15"}`,disabled:!t.imageUrl,children:"Quitar"})]})]})]})]}),e.jsxs("div",{className:"mt-3 space-y-3",children:[e.jsx("p",{className:"text-xs text-white/60 font-medium",children:"Entradas del top:"}),t.entries.map((a,i)=>e.jsxs("div",{className:"p-3 rounded bg-white/5 border border-white/5 relative",children:[t.entries.length>1&&e.jsx("button",{type:"button",onClick:()=>ie("leadersPitching",s,i),className:"absolute top-2 right-2 p-1 rounded bg-habboBrick/70 hover:bg-habboBrick text-white transition-colors",title:"Eliminar entrada",children:e.jsx("svg",{className:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})}),e.jsxs("div",{className:"grid grid-cols-1 gap-3",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsxs("div",{className:"space-y-1",children:[e.jsx("label",{className:"block text-xs text-white/70",children:"Nombre"}),e.jsx("input",{className:"w-full px-3 py-2 rounded bg-white/10 border border-white/20 text-white text-sm",placeholder:"Pitcher",value:a.name,onChange:n=>J("leadersPitching",s,i,"name",n.target.value)})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("label",{className:"block text-xs text-white/70",children:"Valor"}),e.jsx("input",{className:"w-full px-3 py-2 rounded bg-white/10 border border-white/20 text-white text-sm",placeholder:"35",value:a.value,onChange:n=>J("leadersPitching",s,i,"value",n.target.value)})]})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("label",{className:"block text-xs text-white/70",children:"Icono (opcional)"}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs("label",{className:"cursor-pointer",children:[e.jsx("input",{type:"file",accept:"image/*",onChange:n=>ae(n,"leadersPitching",s,i),className:"hidden"}),e.jsx("span",{className:"inline-block px-4 py-2 text-xs rounded bg-white/10 border border-white/20 text-white hover:bg-white/15 transition-colors",children:"Seleccionar archivo"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[a.imageUrl&&e.jsx("img",{src:a.imageUrl,alt:"ico",className:"h-10 w-10 rounded bg-white/10 border border-white/10 object-contain"}),e.jsx("button",{type:"button",onClick:()=>J("leadersPitching",s,i,"imageUrl",""),className:`text-[11px] px-2 py-1 rounded ${a.imageUrl?"bg-habboBrick/80 hover:bg-habboBrick text-white":"bg-white/10 text-white/50 cursor-pointer hover:bg-white/15"}`,disabled:!a.imageUrl,children:"Quitar"})]})]})]})]})]},`pe-${i}`)),e.jsx("button",{type:"button",onClick:()=>re("leadersPitching",s),className:"text-xs px-3 py-2 rounded bg-white/10 border border-white/15 hover:bg-white/15 transition-colors",children:"+ entrada"})]})]},`pit-${s}`)),e.jsx("button",{type:"button",onClick:()=>oe("leadersPitching"),className:"text-xs px-3 py-1 rounded bg-white/10 border border-white/15",children:"+ tarjeta pitcheo"})]})]}),e.jsx("div",{className:"flex justify-end",children:e.jsx("button",{type:"submit",className:"px-4 py-2 rounded-lg bg-habboOrange text-[#0f1018] font-semibold shadow-pixel disabled:opacity-50",disabled:w||L,children:"Guardar estadísticas"})})]})}),y==="schedule"&&e.jsx("div",{className:"bg-white/5 border border-white/10 rounded-2xl p-6 card-glow",children:e.jsx(Oe,{})}),y==="standings"&&e.jsx("div",{className:"bg-white/5 border border-white/10 rounded-2xl p-6 card-glow",children:e.jsx(Me,{})})]})}),C&&C.startsWith("delete-")&&e.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center px-4 bg-black/70 backdrop-blur-sm",onClick:()=>B(null),children:e.jsxs("div",{className:"bg-[#0f1018] border border-white/10 rounded-xl p-6 max-w-sm w-full card-glow",onClick:t=>t.stopPropagation(),children:[e.jsx("h3",{className:"font-display text-lg mb-2",children:"Eliminar noticia"}),e.jsx("p",{className:"text-sm text-white/80 mb-4",children:"¿Seguro que quieres eliminar esta noticia? Esta acción no se puede deshacer."}),e.jsxs("div",{className:"flex justify-end gap-3",children:[e.jsx("button",{onClick:()=>B(null),className:"px-4 py-2 rounded-lg border border-white/20 text-white hover:bg-white/10",children:"Cancelar"}),e.jsx("button",{onClick:ye,className:"px-4 py-2 rounded-lg bg-habboBrick text-white hover:bg-habboBrick/90",disabled:w,children:w?"Eliminando...":"Eliminar"})]})]})}),C&&!C.startsWith("delete-")&&I.find(t=>t.id===C)&&(()=>{const t=I.find(s=>s.id===C);return t?e.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center px-4 bg-black/70 backdrop-blur-sm",onClick:()=>B(null),children:e.jsxs("div",{className:"bg-[#0f1018] border border-white/10 rounded-xl p-6 max-w-lg w-full max-h-[80vh] flex flex-col card-glow",onClick:s=>s.stopPropagation(),children:[e.jsxs("div",{className:"flex-shrink-0",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsx("span",{className:"text-xs text-habboOrange font-semibold",children:t.tag}),e.jsx("span",{className:"text-xs text-white/60",children:t.date})]}),t.imageUrl&&e.jsx("div",{className:"relative w-full overflow-hidden rounded-lg border border-white/5 mb-3",style:{paddingTop:"56%"},children:e.jsx("img",{src:t.imageUrl,alt:t.title,className:"absolute inset-0 w-full h-full object-cover"})}),e.jsx("h2",{className:"font-semibold text-lg mb-3",children:t.title})]}),e.jsx("div",{className:"overflow-y-auto flex-1 mb-3 pr-2",children:e.jsx("p",{className:"text-sm text-white/75 whitespace-pre-wrap",children:t.body})}),e.jsx("div",{className:"flex-shrink-0",children:e.jsx("button",{onClick:()=>B(null),className:"w-full px-4 py-2 rounded-lg bg-white/10 border border-white/20 text-white hover:bg-white/15 transition-colors",children:"Cerrar"})})]})}):null})()]}):null};export{Ae as default};
